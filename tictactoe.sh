#!/bin/bash
# First check that Leo is installed.
if ! command -v leo &> /dev/null
then
    echo "leo is not installed."
    exit
fi
# Create a new game.
echo "
###############################################################################
########                                                               ########
########          STEP 0: Creating a new game of Tic-Tac-Toe           ########
########                                                               ########
########                         |   |   |   |                         ########
########                         |   |   |   |                         ########
########                         |   |   |   |                         ########
########                                                               ########
###############################################################################
"
leo run new || exit

# Have the Player 1 make a move.
echo "
###############################################################################
########                                                               ########
########                             STEP 1                            ########
########                                                               ########
########                         | x |   |   |                         ########
########                         |   |   |   |                         ########
########                         |   |   |   |                         ########
########                                                               ########
###############################################################################
"
leo run make_move 1u8 1u8 1u8 "{ r1: { c1: 0u8, c2: 0u8, c3: 0u8 }, r2: { c1: 0u8, c2: 0u8, c3: 0u8 }, r3: { c1: 0u8, c2: 0u8, c3: 0u8 } }" || exit

# Have the Player 2 make a move.
echo "
###############################################################################
########                                                               ########
########                              STEP 2                           ########
########                                                               ########
########                         | x |   |   |                         ########
########                         |   | o |   |                         ########
########                         |   |   |   |                         ########
########                                                               ########
###############################################################################
"
leo run make_move 2u8 2u8 2u8 "{ r1: { c1: 1u8, c2: 0u8, c3: 0u8 }, r2: { c1: 0u8, c2: 0u8, c3: 0u8 }, r3: { c1: 0u8, c2: 0u8, c3: 0u8 } }" || exit

# Have the Player 1 make a move.
echo "
###############################################################################
########                                                               ########
########                             STEP 3                            ########
########                                                               ########
########                         | x |   |   |                         ########
########                         |   | o |   |                         ########
########                         | x |   |   |                         ########
########                                                               ########
###############################################################################
"
leo run make_move 1u8 3u8 1u8 "{ r1: { c1: 1u8, c2: 0u8, c3: 0u8 }, r2: { c1: 0u8, c2: 2u8, c3: 0u8 }, r3: { c1: 0u8, c2: 0u8, c3: 0u8 } }" || exit

# Have the Player 2 make a move.
echo "
###############################################################################
########                                                               ########
########                             STEP 4                            ########
########                                                               ########
########                         | x |   |   |                         ########
########                         | o | o |   |                         ########
########                         | x |   |   |                         ########
########                                                               ########
###############################################################################
"
leo run make_move 2u8 2u8 1u8 "{ r1: { c1: 1u8, c2: 0u8, c3: 0u8 }, r2: { c1: 0u8, c2: 2u8, c3: 0u8 }, r3: { c1: 1u8, c2: 0u8, c3: 0u8 } }" || exit

# Have the Player 1 make a move.
echo "
###############################################################################
########                                                               ########
########                             STEP 5                            ########
########                                                               ########
########                         | x |   |   |                         ########
########                         | o | o | x |                         ########
########                         | x |   |   |                         ########
########                                                               ########
###############################################################################
"
leo run make_move 1u8 2u8 3u8 "{ r1: { c1: 1u8, c2: 0u8, c3: 0u8 }, r2: { c1: 2u8, c2: 2u8, c3: 0u8 }, r3: { c1: 1u8, c2: 0u8, c3: 0u8 } }" || exit

# Have the Player 2 make a move.
echo "
###############################################################################
########                                                               ########
########                             STEP 6                            ########
########                                                               ########
########                         | x | o |   |                         ########
########                         | o | o | x |                         ########
########                         | x |   |   |                         ########
########                                                               ########
###############################################################################
"
leo run make_move 2u8 1u8 2u8 "{ r1: { c1: 1u8, c2: 0u8, c3: 0u8 }, r2: { c1: 2u8, c2: 2u8, c3: 1u8 }, r3: { c1: 1u8, c2: 0u8, c3: 0u8 } }" || exit

# Have the Player 1 make a move.
echo "
###############################################################################
########                                                               ########
########                             STEP 7                            ########
########                                                               ########
########                         | x | o |   |                         ########
########                         | o | o | x |                         ########
########                         | x | x |   |                         ########
########                                                               ########
###############################################################################
"
leo run make_move 1u8 3u8 2u8 "{ r1: { c1: 1u8, c2: 2u8, c3: 0u8 }, r2: { c1: 2u8, c2: 2u8, c3: 1u8 }, r3: { c1: 1u8, c2: 0u8, c3: 0u8 } }" || exit

# Have the Player 2 make a move.
echo "
###############################################################################
########                                                               ########
########                             STEP 8                            ########
########                                                               ########
########                         | x | o |   |                         ########
########                         | o | o | x |                         ########
########                         | x | x | o |                         ########
########                                                               ########
###############################################################################
"
leo run make_move 2u8 3u8 3u8 "{ r1: { c1: 1u8, c2: 2u8, c3: 0u8 }, r2: { c1: 2u8, c2: 2u8, c3: 1u8 }, r3: { c1: 1u8, c2: 1u8, c3: 0u8 } }" || exit

echo "
###############################################################################
########                                                               ########
########                             STEP 9                            ########
########                                                               ########
########                         | x | o | x |                         ########
########                         | o | o | x |                         ########
########                         | x | x | o |                         ########
########                                                               ########
###############################################################################
"
leo run make_move 1u8 1u8 3u8 "{ r1: { c1: 1u8, c2: 2u8, c3: 0u8 }, r2: { c1: 2u8, c2: 2u8, c3: 1u8 }, r3: { c1: 1u8, c2: 1u8, c3: 2u8 } }" || exit

echo "
###############################################################################
########                                                               ########
########                             Finish                            ########
########                                                               ########
########                         | x | o | x |                         ########
########                         | o | o | x |                         ########
########                         | x | x | o |                         ########
########                                                               ########
###############################################################################
"